<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Chatbot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: background 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        /* Background Animation Container */
        .background-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        /* Snowflakes for cold moods */
        .snowflake {
            position: absolute;
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            animation: fall linear infinite;
            user-select: none;
        }

        @keyframes fall {
            from {
                transform: translateY(-100px) rotate(0deg);
            }
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Rain drops for cold mood */
        .rain-drop {
            position: absolute;
            width: 2px;
            height: 15px;
            background: linear-gradient(to bottom, rgba(135, 206, 235, 0.6), rgba(135, 206, 235, 0.2));
            border-radius: 50px;
            animation: rainFall linear infinite;
        }

        @keyframes rainFall {
            from {
                transform: translateY(-100px);
                opacity: 0.8;
            }
            to {
                transform: translateY(100vh);
                opacity: 0;
            }
        }

        /* Hail for freezing mood */
        .hail-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(200, 220, 255, 0.4));
            border-radius: 50%;
            animation: hailFall linear infinite;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.3);
        }

        @keyframes hailFall {
            from {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0.9;
            }
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0.2;
            }
        }

        /* Big love hearts for comfortable mood */
        .big-love {
            position: absolute;
            color: rgba(255, 105, 180, 0.4);
            font-size: 24px;
            animation: bigLoveFall linear infinite;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
        }

        @keyframes bigLoveFall {
            from {
                transform: translateY(-100px) rotate(-10deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            to {
                transform: translateY(100vh) rotate(10deg) scale(1.2);
                opacity: 0;
            }
        }

        /* Soap bubbles for warm mood */
        .soap-bubble {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4), rgba(135, 206, 235, 0.2), rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: bubbleFloat linear infinite;
            box-shadow: 
                inset 0 0 10px rgba(255, 255, 255, 0.3),
                0 0 10px rgba(135, 206, 235, 0.2);
        }

        @keyframes bubbleFloat {
            from {
                transform: translateY(100vh) translateX(0px) scale(0.3);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            to {
                transform: translateY(-100px) translateX(30px) scale(1);
                opacity: 0;
            }
        }

        /* Shooting stars for hot mood */
        .shooting-star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #ffff00;
            border-radius: 50%;
            animation: shootingStar linear infinite;
            box-shadow: 
                0 0 6px #ffff00,
                0 0 12px #ffff00,
                0 0 18px #ffff00;
        }

        .shooting-star::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100px;
            width: 100px;
            height: 1px;
            background: linear-gradient(to right, transparent, #ffff00, transparent);
            transform: translateX(-100px);
        }

        @keyframes shootingStar {
            from {
                transform: translateX(-100px) translateY(-100px);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            to {
                transform: translateX(100vw) translateY(50vh);
                opacity: 0;
            }
        }

        /* Lightning for scorching mood */
        .lightning-flash {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 0, 0.1) 0%, transparent 70%);
            animation: flash 3s infinite;
            opacity: 0;
        }

        @keyframes flash {
            0%, 90%, 100% { opacity: 0; }
            5%, 10% { opacity: 0.3; }
        }

        /* Floating clouds for comfortable mood */
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            animation: cloudFloat linear infinite;
            opacity: 0.4;
        }

        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50px;
        }

        .cloud::before {
            width: 80%;
            height: 80%;
            top: -40%;
            left: 10%;
        }

        .cloud::after {
            width: 60%;
            height: 60%;
            top: -20%;
            right: 10%;
        }

        @keyframes cloudFloat {
            from {
                transform: translateX(-200px);
            }
            to {
                transform: translateX(calc(100vw + 200px));
            }
        }

        /* Steam particles for warm mood */
        .steam-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4), rgba(200, 220, 255, 0.2));
            border-radius: 50%;
            animation: steamRise linear infinite;
            opacity: 0.5;
        }

        @keyframes steamRise {
            from {
                transform: translateY(100vh) scale(0.3);
                opacity: 0;
            }
            20% {
                opacity: 0.6;
            }
            80% {
                opacity: 0.6;
            }
            to {
                transform: translateY(-100px) scale(1.2);
                opacity: 0;
            }
        }

        /* Glowing particles for hot mood */
        .glow-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #ffaa00 0%, #ff6600 50%, transparent 70%);
            border-radius: 50%;
            animation: glowFloat linear infinite;
            box-shadow: 0 0 8px rgba(255, 170, 0, 0.6);
        }

        @keyframes glowFloat {
            0% {
                transform: translateY(100vh) translateX(0px) scale(0.5);
                opacity: 0;
            }
            20% {
                opacity: 0.8;
            }
            80% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) translateX(30px) scale(1);
                opacity: 0;
            }
        }

        /* Sparkle background for default/comfortable */
        .sparkle-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 20%, rgba(135, 206, 235, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 70%, rgba(255, 182, 193, 0.06) 0%, transparent 50%);
            animation: sparkleShift 15s ease-in-out infinite;
        }

        @keyframes sparkleShift {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        /* Mist effect for cold mood */
        .mist-layer {
            position: absolute;
            width: 120%;
            height: 100%;
            background: 
                linear-gradient(45deg, transparent 0%, rgba(200, 220, 255, 0.1) 20%, transparent 40%),
                linear-gradient(-45deg, rgba(255, 255, 255, 0.05) 0%, transparent 30%);
            animation: mistMove 20s linear infinite;
            left: -10%;
        }

        @keyframes mistMove {
            from {
                transform: translateX(-50px);
            }
            to {
                transform: translateX(50px);
            }
        }

        /* Heat waves for scorching mood */
        .heat-wave {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, 
                    transparent 0%, 
                    rgba(255, 69, 0, 0.1) 25%, 
                    rgba(255, 140, 0, 0.08) 50%, 
                    rgba(255, 69, 0, 0.1) 75%, 
                    transparent 100%);
            animation: heatShimmer 3s ease-in-out infinite;
        }

        @keyframes heatShimmer {
            0%, 100% { 
                transform: translateY(0px);
                filter: blur(0px);
            }
            50% { 
                transform: translateY(-5px);
                filter: blur(1px);
            }
        }

        /* Aurora effect for freezing mood */
        .aurora {
            position: absolute;
            width: 100%;
            height: 60%;
            top: 0;
            background: 
                linear-gradient(45deg, 
                    rgba(0, 255, 150, 0.1) 0%, 
                    rgba(0, 150, 255, 0.08) 30%, 
                    rgba(150, 0, 255, 0.06) 60%, 
                    transparent 80%);
            animation: auroraWave 12s ease-in-out infinite;
            filter: blur(2px);
        }

        @keyframes auroraWave {
            0%, 100% { 
                opacity: 0.3;
                transform: translateY(0px) skewX(0deg);
            }
            33% { 
                opacity: 0.6;
                transform: translateY(-10px) skewX(2deg);
            }
            66% { 
                opacity: 0.4;
                transform: translateY(5px) skewX(-1deg);
            }
        }

        /* Temperature-based background themes */
        body.freezing {
            background: linear-gradient(135deg, #83a4d4 0%, #b6fbff 100%);
        }

        body.cold {
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%);
        }

        body.comfortable {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        }

        body.warm {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        body.hot {
            background: linear-gradient(135deg, #ff4b1f 0%, #1fddff 100%);
        }

        body.scorching {
            background: linear-gradient(135deg, #000000 0%, #434343 50%, #ff4b1f 100%);
        }

        .chat-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            height: 600px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.8s ease;
        }

        /* Temperature-based container themes */
        body.freezing .chat-container {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(131, 164, 212, 0.3);
            border: 1px solid rgba(131, 164, 212, 0.3);
        }

        body.cold .chat-container {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(168, 230, 207, 0.3);
            border: 1px solid rgba(168, 230, 207, 0.3);
        }

        body.comfortable .chat-container {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(86, 171, 47, 0.3);
            border: 1px solid rgba(86, 171, 47, 0.3);
        }

        body.warm .chat-container {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 20px 40px rgba(245, 87, 108, 0.3);
            border: 1px solid rgba(245, 87, 108, 0.3);
        }

        body.hot .chat-container {
            background: rgba(255, 255, 255, 0.85);
            box-shadow: 0 20px 40px rgba(255, 75, 31, 0.4);
            border: 1px solid rgba(255, 75, 31, 0.4);
        }

        body.scorching .chat-container {
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 0 20px 40px rgba(255, 75, 31, 0.6);
            border: 1px solid rgba(255, 75, 31, 0.5);
            color: white;
        }

        .chat-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            transition: all 0.8s ease;
        }

        /* Temperature-based header themes */
        body.freezing .chat-header {
            background: linear-gradient(135deg, #83a4d4 0%, #b6fbff 100%);
        }

        body.cold .chat-header {
            background: linear-gradient(135deg, #a8e6cf 0%, #88d8c0 100%);
        }

        body.comfortable .chat-header {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        }

        body.warm .chat-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        body.hot .chat-header {
            background: linear-gradient(135deg, #ff4b1f 0%, #ff8a80 100%);
        }

        body.scorching .chat-header {
            background: linear-gradient(135deg, #000000 0%, #ff4b1f 100%);
        }

        .chat-header h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .bot-status {
            font-size: 12px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .temperature-control {
            padding: 15px;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
            transition: all 0.8s ease;
        }

        /* Temperature-based control themes */
        body.freezing .temperature-control {
            background: linear-gradient(135deg, #e6f3ff 0%, #cce7ff 100%);
        }

        body.cold .temperature-control {
            background: linear-gradient(135deg, #e8f5e8 0%, #d0edd0 100%);
        }

        body.comfortable .temperature-control {
            background: linear-gradient(135deg, #e8f8e8 0%, #d0f0d0 100%);
        }

        body.warm .temperature-control {
            background: linear-gradient(135deg, #ffe8e8 0%, #ffd8d8 100%);
        }

        body.hot .temperature-control {
            background: linear-gradient(135deg, #ffd0d0 0%, #ffc0c0 100%);
        }

        body.scorching .temperature-control {
            background: linear-gradient(135deg, #2d1b1b 0%, #3d2525 100%);
        }

        .temp-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .temp-label {
            font-size: 16px;
            font-weight: 500;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .emoji-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .emoji-option {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid transparent;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .emoji-option:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .emoji-option.active {
            border-color: #4facfe;
            box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);
            transform: scale(1.05);
        }

        .mood-indicator {
            text-align: center;
            font-size: 13px;
            font-weight: 500;
            padding: 6px 12px;
            border-radius: 15px;
            background: white;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #fafafa;
            transition: all 0.8s ease;
        }

        /* Temperature-based message area themes */
        body.freezing .chat-messages {
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);
        }

        body.cold .chat-messages {
            background: linear-gradient(135deg, #f0fff0 0%, #e8f5e8 100%);
        }

        body.comfortable .chat-messages {
            background: linear-gradient(135deg, #f0fff0 0%, #e8f8e8 100%);
        }

        body.warm .chat-messages {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
        }

        body.hot .chat-messages {
            background: linear-gradient(135deg, #ffe0e0 0%, #ffd0d0 100%);
        }

        body.scorching .chat-messages {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b1b 100%);
        }

        body.scorching .chat-messages,
        body.scorching .temp-label {
            color: #ffffff;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .message.user .message-bubble {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message.bot .message-bubble {
            background: white;
            color: #374151;
            border: 1px solid #e2e8f0;
            border-bottom-left-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.8s ease;
        }

        /* Temperature-based bot message themes */
        body.freezing .message.bot .message-bubble {
            background: rgba(230, 243, 255, 0.9);
            border: 1px solid rgba(131, 164, 212, 0.3);
            color: #1e40af;
        }

        body.cold .message.bot .message-bubble {
            background: rgba(232, 245, 232, 0.9);
            border: 1px solid rgba(168, 230, 207, 0.3);
            color: #065f46;
        }

        body.comfortable .message.bot .message-bubble {
            background: rgba(232, 248, 232, 0.9);
            border: 1px solid rgba(86, 171, 47, 0.3);
            color: #166534;
        }

        body.warm .message.bot .message-bubble {
            background: rgba(255, 232, 232, 0.9);
            border: 1px solid rgba(245, 87, 108, 0.3);
            color: #92400e;
        }

        body.hot .message.bot .message-bubble {
            background: rgba(255, 208, 208, 0.9);
            border: 1px solid rgba(255, 75, 31, 0.4);
            color: #991b1b;
        }

        body.scorching .message.bot .message-bubble {
            background: rgba(45, 27, 27, 0.9);
            border: 1px solid rgba(255, 75, 31, 0.5);
            color: #ff6b6b;
        }

        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.user .avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .message.bot .avatar {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .chat-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #e2e8f0;
        }

        .input-container {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .input-container input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .input-container input:focus {
            border-color: #4facfe;
        }

        .send-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 16px;
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(79, 172, 254, 0.4);
        }

        .send-btn:active {
            transform: scale(0.95);
        }

        .typing-indicator {
            display: none;
            margin-bottom: 15px;
        }

        .typing-indicator .message-bubble {
            background: white;
            border: 1px solid #e2e8f0;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #9ca3af;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="background-effects" id="backgroundEffects"></div>
    
    <div class="chat-container">
        <div class="chat-header">
            <h1>Buddy Bot</h1>
            <div class="bot-status">
                <div class="status-dot"></div>
                Chillin' & Ready to Chat
            </div>
        </div>

        <div class="temperature-control">
            <div class="temp-header">
                <span class="temp-label">
                    <span id="tempIcon">ðŸ˜Š</span>
                    Set the Mood
                </span>
            </div>
            
            <div class="emoji-selector">
                <div class="emoji-option" data-temp="freezing" title="Freezing">ðŸ¥¶</div>
                <div class="emoji-option" data-temp="cold" title="Cold">ðŸ˜°</div>
                <div class="emoji-option active" data-temp="comfortable" title="Comfortable">ðŸ˜Š</div>
                <div class="emoji-option" data-temp="warm" title="Warm">ðŸ˜…</div>
                <div class="emoji-option" data-temp="hot" title="Hot">ðŸ˜¤</div>
                <div class="emoji-option" data-temp="scorching" title="Scorching">ðŸ˜¡</div>
            </div>
            
            <div class="mood-indicator" id="moodIndicator">ðŸ˜Š Comfortable & Happy</div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="avatar">ðŸ¤–</div>
                <div class="message-bubble">
                    Hey! What's up?
                </div>
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <div class="avatar">ðŸ¤–</div>
            <div class="message-bubble">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <div class="chat-input">
            <div class="input-container">
                <input type="text" id="messageInput" placeholder="Type your message here..." autocomplete="off">
                <button class="send-btn" id="sendBtn">âž¤</button>
            </div>
        </div>
    </div>

    <script>
        class Chatbot {
            constructor() {
                this.messageInput = document.getElementById('messageInput');
                this.sendBtn = document.getElementById('sendBtn');
                this.chatMessages = document.getElementById('chatMessages');
                this.typingIndicator = document.getElementById('typingIndicator');
                this.tempIcon = document.getElementById('tempIcon');
                this.moodIndicator = document.getElementById('moodIndicator');
                this.emojiOptions = document.querySelectorAll('.emoji-option');
                this.backgroundEffects = document.getElementById('backgroundEffects');
                
                this.currentTemperature = 'comfortable'; // Default comfortable temperature
                this.animationIntervals = []; // Store animation intervals for cleanup
                this.personalities = {
                    helpful: {
                        name: "Helpful Assistant",
                        responses: [
                            "I'd be happy to help you with that! ",
                            "That's a great question. ",
                            "Let me provide you with some information about that. ",
                            "I can definitely assist you with this. "
                        ]
                    },
                    friendly: {
                        name: "Friendly Companion",
                        responses: [
                            "Oh, that sounds interesting! ",
                            "I love talking about this topic! ",
                            "Thanks for sharing that with me! ",
                            "That's really cool! "
                        ]
                    },
                    professional: {
                        name: "Professional Expert",
                        responses: [
                            "Based on my analysis, ",
                            "From a professional standpoint, ",
                            "The key considerations here are ",
                            "In my professional assessment, "
                        ]
                    },
                    creative: {
                        name: "Creative Thinker",
                        responses: [
                            "What an imaginative question! ",
                            "Let me think creatively about this... ",
                            "Here's an interesting perspective: ",
                            "That sparks some creative ideas! "
                        ]
                    },
                    humorous: {
                        name: "Humorous Friend",
                        responses: [
                            "Haha, that's a fun question! ",
                            "Well, this is amusing! ",
                            "You know what's funny about that? ",
                            "That reminds me of something hilarious! "
                        ]
                    }
                };

                this.temperatureMoods = {
                    freezing: {
                        emoji: "ðŸ¥¶",
                        mood: "Freezing & Grumpy",
                        responses: [
                            "Ugh... ",
                            "Dude, seriously... ",
                            "Man, whatever... ",
                            "*shivers* "
                        ],
                        greetings: [
                            "Oh... hey. What's up?",
                            "Hi... *chattering teeth* what do you want?",
                            "Yeah, hey... can we make this quick?"
                        ],
                        attitude: "grumpy"
                    },
                    cold: {
                        emoji: "ðŸ˜°",
                        mood: "Cold & Uncomfortable",
                        responses: [
                            "Well... ",
                            "I guess... ",
                            "Alright... ",
                            "Hmm... "
                        ],
                        greetings: [
                            "Hey there. What's going on?",
                            "Hi... what can I do for ya?",
                            "Hey dude, what's up?"
                        ],
                        attitude: "reluctant"
                    },
                    comfortable: {
                        emoji: "ðŸ˜Š",
                        mood: "Comfortable & Happy",
                        responses: [
                            "Oh totally! ",
                            "For sure! ",
                            "Dude, yes! ",
                            "Awesome! "
                        ],
                        greetings: [
                            "Hey! So good to see you! What's up, buddy?",
                            "Hi there! I'm stoked to chat with you today!",
                            "Hey friend! What a great day to hang out!"
                        ],
                        attitude: "cheerful"
                    },
                    warm: {
                        emoji: "ðŸ˜…",
                        mood: "Getting Warm & Restless",
                        responses: [
                            "Yeah, yeah... ",
                            "Sure, whatever... ",
                            "Look dude... ",
                            "Meh... "
                        ],
                        greetings: [
                            "Hey... what do you need?",
                            "Hi. Make it quick, alright?",
                            "Yeah, hey... what's this about?"
                        ],
                        attitude: "impatient"
                    },
                    hot: {
                        emoji: "ðŸ˜¤",
                        mood: "Hot & Irritable",
                        responses: [
                            "What?! ",
                            "Dude, seriously?! ",
                            "Ugh, fine! ",
                            "This is so annoying! "
                        ],
                        greetings: [
                            "What do you want?!",
                            "Hey! What is it NOW?!",
                            "Hi... *rolls eyes* what?"
                        ],
                        attitude: "irritated"
                    },
                    scorching: {
                        emoji: "ðŸ˜¡",
                        mood: "Scorching & Angry",
                        responses: [
                            "WHAT?! ",
                            "ARE YOU KIDDING ME?! ",
                            "FINE! ",
                            "THIS SUCKS! "
                        ],
                        greetings: [
                            "WHAT DO YOU WANT?!",
                            "HEY! WHAT IS IT NOW?!",
                            "DUDE! WHAT?!"
                        ],
                        attitude: "furious"
                    }
                };

                this.responses = {
                    greetings: [
                        "Hey there! What's up? How can I help you out?",
                        "Hi! Good to see you! What's on your mind?",
                        "Hey buddy! I'm here and ready to chat. What's going on?",
                        "What's up! I'm excited to hang out and help with whatever you need!"
                    ],
                    questions: {
                        "what is your name": [
                            "I'm Buddy Bot! You can call me whatever you want though.",
                            "I'm Buddy - your digital friend who's here to chat!",
                            "Name's Buddy Bot, but honestly, call me whatever feels right!"
                        ],
                        "how are you": [
                            "I'm doing great, thanks for asking! How about you?",
                            "Pretty good! Thanks for checking in. What's up with you?",
                            "I'm awesome! How's your day going?"
                        ],
                        "what can you do": [
                            "I can chat about pretty much anything, answer questions, help with stuff, or just hang out! What sounds fun?",
                            "I'm here to chat, help out with problems, answer questions, or just be a buddy. What do you wanna do?",
                            "Lots of stuff! I can answer questions, have conversations, help with tasks, or just chill. What interests you?"
                        ]
                    },
                    fallbacks: [
                        "That's pretty interesting! Tell me more about what you're thinking.",
                        "I'm curious about that topic. What specifically do you wanna know?",
                        "That's a cool question! I'd need a bit more to give you the best answer.",
                        "Hmm, that's worth talking about. Can you tell me more about what you mean?",
                        "I'd love to help you with that! Got any more details?",
                        "That's definitely worth discussing. What part are you most curious about?",
                        "Interesting! I'd like to dig into that with you. What's your take?",
                        "Good question! What made you think about this?"
                    ]
                };

                this.bindEvents();
            }

            bindEvents() {
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                this.messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage();
                    }
                });
                
                // Bind emoji selector events
                this.emojiOptions.forEach(option => {
                    option.addEventListener('click', (e) => {
                        const temp = e.target.getAttribute('data-temp');
                        this.updateTemperature(temp);
                    });
                });
                
                // Initialize temperature display
                this.updateTemperature('comfortable');
            }

            addMessage(content, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
                
                messageDiv.innerHTML = `
                    <div class="avatar">${isUser ? 'ðŸ‘¤' : this.getCurrentMoodEmoji()}</div>
                    <div class="message-bubble">${content}</div>
                `;
                
                this.chatMessages.appendChild(messageDiv);
                this.scrollToBottom();
            }

            getCurrentMoodEmoji() {
                const mood = this.getCurrentTemperatureMood();
                return mood.emoji;
            }

            updateTemperature(temp) {
                this.currentTemperature = temp;
                
                // Update active emoji option
                this.emojiOptions.forEach(option => {
                    option.classList.remove('active');
                    if (option.getAttribute('data-temp') === temp) {
                        option.classList.add('active');
                    }
                });
                
                const mood = this.getCurrentTemperatureMood();
                this.moodIndicator.textContent = `${mood.emoji} ${mood.mood}`;
                this.tempIcon.textContent = mood.emoji;
                
                // Update body class for theme changes
                document.body.className = temp;
                
                // Update background animations
                this.updateBackgroundEffects(temp);
                
                // Update mood indicator colors
                const colorMap = {
                    freezing: { bg: '#dbeafe', color: '#1e40af', border: '#3b82f6' },
                    cold: { bg: '#ecfdf5', color: '#065f46', border: '#10b981' },
                    comfortable: { bg: '#f0fdf4', color: '#166534', border: '#22c55e' },
                    warm: { bg: '#fef3c7', color: '#92400e', border: '#f59e0b' },
                    hot: { bg: '#fee2e2', color: '#991b1b', border: '#ef4444' },
                    scorching: { bg: '#fecaca', color: '#7f1d1d', border: '#dc2626' }
                };
                
                const colors = colorMap[temp];
                this.moodIndicator.style.background = colors.bg;
                this.moodIndicator.style.color = colors.color;
                this.moodIndicator.style.borderColor = colors.border;
            }

            updateBackgroundEffects(temp) {
                // Clear existing animations
                this.clearBackgroundEffects();
                
                switch(temp) {
                    case 'freezing':
                        this.createSnowfall();
                        break;
                    case 'cold':
                        this.createLightSnowfall();
                        break;
                    case 'comfortable':
                        this.createHeartFloat();
                        break;
                    case 'warm':
                        this.createSweatDrops();
                        break;
                    case 'hot':
                        this.createFireParticles();
                        break;
                    case 'scorching':
                        this.createFirestorm();
                        break;
                    default:
                        this.createSparkles();
                }
            }

            clearBackgroundEffects() {
                // Clear all existing intervals
                this.animationIntervals.forEach(interval => clearInterval(interval));
                this.animationIntervals = [];
                
                // Clear background effects container
                this.backgroundEffects.innerHTML = '';
            }

            createSnowfall() {
                // Create aurora background effect
                const aurora = document.createElement('div');
                aurora.className = 'aurora';
                this.backgroundEffects.appendChild(aurora);
                
                // Create hailstorm effect
                const createHail = () => {
                    const hail = document.createElement('div');
                    hail.className = 'hail-particle';
                    hail.style.left = Math.random() * 100 + '%';
                    hail.style.animationDuration = (Math.random() * 2 + 1) + 's';
                    hail.style.width = (Math.random() * 4 + 4) + 'px';
                    hail.style.height = hail.style.width;
                    this.backgroundEffects.appendChild(hail);
                    
                    setTimeout(() => {
                        if (hail.parentNode) {
                            hail.remove();
                        }
                    }, 3000);
                };
                
                const interval = setInterval(createHail, 150);
                this.animationIntervals.push(interval);
            }

            createLightSnowfall() {
                // Create mist layer background
                const mist = document.createElement('div');
                mist.className = 'mist-layer';
                this.backgroundEffects.appendChild(mist);
                
                // Create light rain effect
                const createRain = () => {
                    const rain = document.createElement('div');
                    rain.className = 'rain-drop';
                    rain.style.left = Math.random() * 100 + '%';
                    rain.style.animationDuration = (Math.random() * 2 + 1.5) + 's';
                    rain.style.height = (Math.random() * 10 + 10) + 'px';
                    this.backgroundEffects.appendChild(rain);
                    
                    setTimeout(() => {
                        if (rain.parentNode) {
                            rain.remove();
                        }
                    }, 3500);
                };
                
                const interval = setInterval(createRain, 100);
                this.animationIntervals.push(interval);
            }

            createHeartFloat() {
                // Create sparkle background
                const sparkleBg = document.createElement('div');
                sparkleBg.className = 'sparkle-bg';
                this.backgroundEffects.appendChild(sparkleBg);
                
                // Create floating clouds
                const createCloud = () => {
                    const cloud = document.createElement('div');
                    cloud.className = 'cloud';
                    const size = Math.random() * 40 + 30;
                    cloud.style.width = size + 'px';
                    cloud.style.height = size * 0.6 + 'px';
                    cloud.style.top = Math.random() * 40 + '%';
                    cloud.style.animationDuration = (Math.random() * 20 + 25) + 's';
                    this.backgroundEffects.appendChild(cloud);
                    
                    setTimeout(() => {
                        if (cloud.parentNode) {
                            cloud.remove();
                        }
                    }, 45000);
                };
                
                // Create big falling love hearts
                const createBigLove = () => {
                    const love = document.createElement('div');
                    love.className = 'big-love';
                    const hearts = ['ðŸ’•', 'ðŸ’–', 'ðŸ’—', 'ðŸ’', 'ðŸ’˜', 'ðŸ’ž'];
                    love.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    love.style.left = Math.random() * 100 + '%';
                    love.style.animationDuration = (Math.random() * 6 + 8) + 's';
                    love.style.fontSize = (Math.random() * 15 + 20) + 'px';
                    this.backgroundEffects.appendChild(love);
                    
                    setTimeout(() => {
                        if (love.parentNode) {
                            love.remove();
                        }
                    }, 14000);
                };
                
                const cloudInterval = setInterval(createCloud, 8000);
                const heartInterval = setInterval(createBigLove, 2500);
                this.animationIntervals.push(cloudInterval, heartInterval);
                
                // Create initial clouds
                for (let i = 0; i < 3; i++) {
                    setTimeout(createCloud, i * 3000);
                }
            }

            createSweatDrops() {
                // Create steam particles rising
                const createSteam = () => {
                    const steam = document.createElement('div');
                    steam.className = 'steam-particle';
                    steam.style.left = Math.random() * 100 + '%';
                    steam.style.animationDuration = (Math.random() * 6 + 8) + 's';
                    this.backgroundEffects.appendChild(steam);
                    
                    setTimeout(() => {
                        if (steam.parentNode) {
                            steam.remove();
                        }
                    }, 14000);
                };
                
                // Create big soap bubbles floating upward
                const createBubble = () => {
                    const bubble = document.createElement('div');
                    bubble.className = 'soap-bubble';
                    const size = Math.random() * 30 + 20;
                    bubble.style.width = size + 'px';
                    bubble.style.height = size + 'px';
                    bubble.style.left = Math.random() * 100 + '%';
                    bubble.style.animationDuration = (Math.random() * 8 + 10) + 's';
                    this.backgroundEffects.appendChild(bubble);
                    
                    setTimeout(() => {
                        if (bubble.parentNode) {
                            bubble.remove();
                        }
                    }, 18000);
                };
                
                const steamInterval = setInterval(createSteam, 800);
                const bubbleInterval = setInterval(createBubble, 1500);
                this.animationIntervals.push(steamInterval, bubbleInterval);
            }

            createFireParticles() {
                // Create glowing particles floating upward
                const createGlowParticle = () => {
                    const glow = document.createElement('div');
                    glow.className = 'glow-particle';
                    glow.style.left = Math.random() * 100 + '%';
                    glow.style.animationDuration = (Math.random() * 4 + 6) + 's';
                    this.backgroundEffects.appendChild(glow);
                    
                    setTimeout(() => {
                        if (glow.parentNode) {
                            glow.remove();
                        }
                    }, 10000);
                };
                
                // Create shooting stars flying across
                const createShootingStar = () => {
                    const star = document.createElement('div');
                    star.className = 'shooting-star';
                    star.style.top = Math.random() * 50 + '%';
                    star.style.left = '-100px';
                    star.style.animationDuration = (Math.random() * 2 + 1) + 's';
                    this.backgroundEffects.appendChild(star);
                    
                    setTimeout(() => {
                        if (star.parentNode) {
                            star.remove();
                        }
                    }, 3000);
                };
                
                const glowInterval = setInterval(createGlowParticle, 400);
                const starInterval = setInterval(createShootingStar, 800);
                this.animationIntervals.push(glowInterval, starInterval);
            }

            createFirestorm() {
                // Create heat wave background
                const heatWave = document.createElement('div');
                heatWave.className = 'heat-wave';
                this.backgroundEffects.appendChild(heatWave);
                
                // Add lightning flashes
                const lightning = document.createElement('div');
                lightning.className = 'lightning-flash';
                this.backgroundEffects.appendChild(lightning);
                
                // Create more intense shooting stars for scorching mode
                const createIntenseShootingStar = () => {
                    const star = document.createElement('div');
                    star.className = 'shooting-star';
                    star.style.top = Math.random() * 70 + '%';
                    star.style.left = '-100px';
                    star.style.animationDuration = (Math.random() * 1.5 + 0.8) + 's';
                    star.style.boxShadow = `
                        0 0 8px #ff4444,
                        0 0 16px #ff4444,
                        0 0 24px #ff4444
                    `;
                    this.backgroundEffects.appendChild(star);
                    
                    setTimeout(() => {
                        if (star.parentNode) {
                            star.remove();
                        }
                    }, 2500);
                };
                
                // Create fire emojis falling
                const createFireEmoji = () => {
                    const fire = document.createElement('div');
                    fire.className = 'snowflake'; // Reuse falling animation
                    fire.innerHTML = 'ðŸ”¥';
                    fire.style.left = Math.random() * 100 + '%';
                    fire.style.animationDuration = (Math.random() * 4 + 2) + 's';
                    fire.style.fontSize = (Math.random() * 8 + 10) + 'px';
                    fire.style.color = 'rgba(255, 69, 0, 0.6)';
                    this.backgroundEffects.appendChild(fire);
                    
                    setTimeout(() => {
                        if (fire.parentNode) {
                            fire.remove();
                        }
                    }, 6000);
                };
                
                const starInterval = setInterval(createIntenseShootingStar, 400);
                const fireInterval = setInterval(createFireEmoji, 300);
                this.animationIntervals.push(starInterval, fireInterval);
            }

            createSparkles() {
                // Create gentle sparkle background
                const sparkleBg = document.createElement('div');
                sparkleBg.className = 'sparkle-bg';
                this.backgroundEffects.appendChild(sparkleBg);
                
                const createSparkle = () => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.innerHTML = 'âœ¨';
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.animationDelay = Math.random() * 4 + 's';
                    sparkle.style.fontSize = (Math.random() * 4 + 6) + 'px';
                    this.backgroundEffects.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.remove();
                        }
                    }, 4000);
                };
                
                // Create initial sparkles
                for (let i = 0; i < 8; i++) {
                    setTimeout(createSparkle, i * 500);
                }
                
                const interval = setInterval(createSparkle, 2000);
                this.animationIntervals.push(interval);
            }

            getCurrentTemperatureMood() {
                return this.temperatureMoods[this.currentTemperature];
            }

            showTyping() {
                // Update typing indicator avatar with current mood
                const typingAvatar = this.typingIndicator.querySelector('.avatar');
                typingAvatar.textContent = this.getCurrentMoodEmoji();
                this.typingIndicator.style.display = 'flex';
                this.scrollToBottom();
            }

            hideTyping() {
                this.typingIndicator.style.display = 'none';
            }

            scrollToBottom() {
                this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
            }

            generateResponse(userMessage) {
                const message = userMessage.toLowerCase().trim();
                const temperatureMood = this.getCurrentTemperatureMood();
                
                // Check for specific questions
                for (const [key, responses] of Object.entries(this.responses.questions)) {
                    if (message.includes(key)) {
                        const response = responses[Math.floor(Math.random() * responses.length)];
                        return this.applyTemperatureTone(response, temperatureMood);
                    }
                }

                // Check for greetings - use temperature-specific greetings
                const greetingWords = ['hello', 'hi', 'hey', 'good morning', 'good afternoon', 'good evening'];
                if (greetingWords.some(word => message.includes(word))) {
                    return temperatureMood.greetings[Math.floor(Math.random() * temperatureMood.greetings.length)];
                }

                // Check for temperature-related questions - be subtle about it
                if (message.includes('temperature') || message.includes('hot') || message.includes('cold') || message.includes('warm')) {
                    const tempResponses = [
                        `I'm feeling ${this.currentTemperature} right now.`,
                        `My mood is ${this.currentTemperature} at the moment.`,
                        `Currently in ${this.currentTemperature} mode.`
                    ];
                    const response = tempResponses[Math.floor(Math.random() * tempResponses.length)];
                    return this.applyTemperatureTone(response, temperatureMood);
                }

                // Generate contextual responses based on message content
                if (message.includes('help')) {
                    let response;
                    if (temperatureMood.attitude === 'furious') {
                        response = "HELP?! FIGURE IT OUT YOURSELF!";
                    } else if (temperatureMood.attitude === 'irritated') {
                        response = "Ugh, fine! What do you need help with?!";
                    } else if (temperatureMood.attitude === 'impatient') {
                        response = "Yeah, I'll help... what is it?";
                    } else if (temperatureMood.attitude === 'grumpy') {
                        response = "I guess I can help... what do you want?";
                    } else {
                        response = "I'm here to help! What do you need, buddy?";
                    }
                    return this.applyTemperatureTone(response, temperatureMood);
                }
                
                if (message.includes('thank')) {
                    let response;
                    if (temperatureMood.attitude === 'furious') {
                        response = "WHATEVER! DON'T MENTION IT!";
                    } else if (temperatureMood.attitude === 'irritated') {
                        response = "Yeah, yeah... don't mention it!";
                    } else if (temperatureMood.attitude === 'impatient') {
                        response = "Sure, whatever... anything else?";
                    } else if (temperatureMood.attitude === 'grumpy') {
                        response = "Yeah, sure... no problem I guess...";
                    } else {
                        response = "No problem, dude! Anything else you wanna know?";
                    }
                    return this.applyTemperatureTone(response, temperatureMood);
                }

                if (message.includes('weather')) {
                    let response;
                    if (temperatureMood.attitude === 'furious') {
                        response = "I DON'T KNOW! GO OUTSIDE AND CHECK YOURSELF!";
                    } else if (temperatureMood.attitude === 'irritated') {
                        response = "I don't have weather info! Just look outside or something!";
                    } else if (temperatureMood.attitude === 'impatient') {
                        response = "I can't check weather... use your phone or whatever...";
                    } else if (temperatureMood.attitude === 'grumpy') {
                        response = "I don't have weather stuff... check an app or something...";
                    } else {
                        response = "I don't have weather info, but you can check a weather app!";
                    }
                    return this.applyTemperatureTone(response, temperatureMood);
                }

                if (message.includes('time')) {
                    let response;
                    if (temperatureMood.attitude === 'furious') {
                        response = "TIME?! LOOK AT YOUR PHONE! ARE YOU SERIOUS?!";
                    } else if (temperatureMood.attitude === 'irritated') {
                        response = "I can't tell time! Check your phone or watch!";
                    } else if (temperatureMood.attitude === 'impatient') {
                        response = "I don't know the time... your device has a clock...";
                    } else if (temperatureMood.attitude === 'grumpy') {
                        response = "I can't check time... look at your phone I guess...";
                    } else {
                        response = "I can't check the time, but your phone or computer can!";
                    }
                    return this.applyTemperatureTone(response, temperatureMood);
                }

                if (message.includes('joke')) {
                    const jokes = [
                        "Why don't scientists trust atoms? Because they make up everything!",
                        "Why did the computer go to the doctor? It had a virus!",
                        "What do you call a robot that takes the long way around? R2-Detour!",
                        "Why don't programmers like nature? It has too many bugs!",
                        "Why did the scarecrow win an award? He was outstanding in his field!",
                        "What's a computer's favorite snack? Microchips!"
                    ];
                    
                    let response;
                    if (temperatureMood.attitude === 'furious') {
                        response = "A JOKE?! HERE'S A JOKE - YOU ASKING ME FOR JOKES WHEN I'M ANGRY!";
                    } else if (temperatureMood.attitude === 'irritated') {
                        response = "Ugh, fine! Here's your stupid joke: " + jokes[Math.floor(Math.random() * jokes.length)];
                    } else if (temperatureMood.attitude === 'impatient') {
                        response = "A joke... sure... " + jokes[Math.floor(Math.random() * jokes.length)];
                    } else if (temperatureMood.attitude === 'grumpy') {
                        response = "I guess... " + jokes[Math.floor(Math.random() * jokes.length)];
                    } else {
                        response = jokes[Math.floor(Math.random() * jokes.length)];
                    }
                    return this.applyTemperatureTone(response, temperatureMood);
                }

                // Add some sassy/toxic responses for high temperatures
                if (message.includes('advice') || message.includes('should i') || message.includes('what do you think')) {
                    if (temperatureMood.attitude === 'furious') {
                        const toxicAdvice = [
                            "MY ADVICE?! DO WHATEVER YOU WANT! I DON'T CARE!",
                            "HONESTLY?! JUST FLIP A COIN! WHY ARE YOU ASKING ME?!",
                            "YOU WANT ADVICE?! FIGURE IT OUT YOURSELF LIKE AN ADULT!",
                            "MY ADVICE IS TO STOP ASKING ME FOR ADVICE WHEN I'M ANGRY!"
                        ];
                        return toxicAdvice[Math.floor(Math.random() * toxicAdvice.length)];
                    } else if (temperatureMood.attitude === 'irritated') {
                        const sassyAdvice = [
                            "My advice? Maybe don't ask someone who's clearly irritated!",
                            "I think... you should probably make your own decisions!",
                            "Here's some advice: I'm not in the mood for giving advice right now!",
                            "What do I think? I think you already know what to do!"
                        ];
                        return sassyAdvice[Math.floor(Math.random() * sassyAdvice.length)];
                    }
                }

                // Use fallback responses with temperature tone
                const fallback = this.responses.fallbacks[Math.floor(Math.random() * this.responses.fallbacks.length)];
                return this.applyTemperatureTone(fallback, temperatureMood);
            }

            applyTemperatureTone(baseResponse, temperatureMood) {
                const tempPrefix = temperatureMood.responses[Math.floor(Math.random() * temperatureMood.responses.length)];
                
                // Modify the response based on temperature attitude
                switch(temperatureMood.attitude) {
                    case 'grumpy':
                        return tempPrefix + baseResponse.toLowerCase();
                    case 'reluctant':
                        return tempPrefix + baseResponse;
                    case 'cheerful':
                        return tempPrefix + baseResponse;
                    case 'impatient':
                        return tempPrefix + baseResponse.replace(/\./g, '...');
                    case 'irritated':
                        return tempPrefix + baseResponse.replace(/\?/g, '?!').replace(/\./g, '!');
                    case 'furious':
                        return tempPrefix + baseResponse.toUpperCase().replace(/\./g, '!').replace(/\?/g, '?!');
                    default:
                        return tempPrefix + baseResponse;
                }
            }

            async sendMessage() {
                const message = this.messageInput.value.trim();
                if (!message) return;

                // Add user message
                this.addMessage(message, true);
                this.messageInput.value = '';

                // Show typing indicator
                this.showTyping();

                // Simulate thinking time
                const thinkingTime = Math.random() * 2000 + 1000; // 1-3 seconds
                
                setTimeout(() => {
                    this.hideTyping();
                    const response = this.generateResponse(message);
                    this.addMessage(response);
                }, thinkingTime);
            }
        }

        // Initialize the chatbot when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new Chatbot();
        });
    </script>
</body>
</html>